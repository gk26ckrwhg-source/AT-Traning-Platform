<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forex Trading Training</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3a6ea5;
            --secondary-color: #004e98;
            --accent-color: #ff6b6b;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --card-shadow: 0 10px 20px rgba(0, 0, 0, 0.12);
            --hover-shadow: 0 15px 30px rgba(0, 0, 0, 0.18);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: var(--dark-color);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 30px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            font-size: 2.5rem;
            color: var(--light-color);
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logo h1 {
            color: var(--light-color);
            font-size: 1.8rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        .controls {
            display: flex;
            gap: 15px;
            position: relative;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.2);
            color: var(--light-color);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-primary {
            background: var(--primary-color);
        }
        
        .btn-primary:hover {
            background: var(--secondary-color);
        }
        
        .main-content {
            display: flex;
            gap: 30px;
            min-height: 70vh;
        }
        
        .sidebar {
            flex: 0 0 250px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            overflow-y: auto;
            max-height: 70vh;
        }
        
        .sidebar h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chapters {
            list-style: none;
        }
        
        .chapter {
            margin-bottom: 10px;
        }
        
        .chapter-btn {
            width: 100%;
            text-align: left;
            padding: 12px 15px;
            background: rgba(58, 110, 165, 0.1);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: var(--dark-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chapter-btn:hover {
            background: rgba(58, 110, 165, 0.2);
            transform: translateX(5px);
        }
        
        .chapter-btn.active {
            background: var(--primary-color);
            color: white;
        }
        
        .sub-chapters {
            list-style: none;
            margin-top: 10px;
            padding-left: 15px;
            display: none;
        }
        
        .chapter.active .sub-chapters {
            display: block;
        }
        
        .sub-chapter {
            margin-bottom: 8px;
        }
        
        .sub-chapter-btn {
            width: 100%;
            text-align: left;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.5);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .sub-chapter-btn:hover {
            background: rgba(58, 110, 165, 0.1);
        }
        
        .sub-chapter-btn.active {
            background: var(--secondary-color);
            color: white;
        }
        
        .content-area {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--card-shadow);
            overflow-y: auto;
            max-height: 70vh;
            position: relative;
        }
        
        .slide {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .slide.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .slide h3 {
            color: var(--secondary-color);
            margin: 15px 0 10px;
            font-size: 1.4rem;
        }
        
        .slide p {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .slide ul, .slide ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .slide li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--primary-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--hover-shadow);
        }
        
        .card h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .interactive-element {
            background: rgba(58, 110, 165, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .interactive-element:hover {
            background: rgba(58, 110, 165, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .quiz-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .quiz-question {
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .quiz-options {
            list-style: none;
        }
        
        .quiz-option {
            padding: 10px 15px;
            margin-bottom: 10px;
            background: rgba(58, 110, 165, 0.1);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .quiz-option:hover {
            background: rgba(58, 110, 165, 0.2);
        }
        
        .quiz-option.selected {
            background: var(--primary-color);
            color: white;
        }
        
        .quiz-feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .quiz-feedback.correct {
            background: rgba(40, 167, 69, 0.2);
            color: var(--success-color);
            display: block;
        }
        
        .quiz-feedback.incorrect {
            background: rgba(220, 53, 69, 0.2);
            color: var(--danger-color);
            display: block;
        }
        
        .slide-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .progress-bar {
            height: 6px;
            background: rgba(58, 110, 165, 0.2);
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: var(--primary-color);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .currency-pair-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .currency-box {
            padding: 15px 25px;
            background: var(--primary-color);
            color: white;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .vs {
            font-size: 1.5rem;
            color: var(--secondary-color);
            font-weight: bold;
        }
        
        .exchange-rate {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--secondary-color);
            margin: 20px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .calculation-example {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid var(--accent-color);
        }
        
        .hidden-content {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            border-left: 4px solid var(--warning-color);
        }
        
        .language-toggle {
            position: relative;
        }
        
        .language-options {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 10px 0;
            display: none;
            z-index: 100;
            width: 120px;
        }
        
        .language-toggle.active .language-options {
            display: block;
        }
        
        .language-option {
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .language-option:hover {
            background: rgba(58, 110, 165, 0.1);
        }
        
        .image-container {
            text-align: center;
            margin: 20px 0;
        }
        
        .content-image {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 15px;
        }
        
        .image-caption {
            font-style: italic;
            color: #666;
            font-size: 0.9rem;
        }
        
        .stats-container {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            flex: 1;
            margin: 0 10px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--dark-color);
        }
        
        .feature-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-item {
            flex: 1 1 calc(50% - 15px);
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feature-icon {
            color: var(--primary-color);
            font-size: 1.5rem;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                flex: none;
                max-height: 300px;
            }
            
            .stats-container {
                flex-direction: column;
            }
            
            .stat-item {
                margin: 10px 0;
            }
            
            .feature-item {
                flex: 1 1 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h1 id="main-title">Forex Trading Training</h1>
            </div>
            <div class="controls">
                <div class="language-toggle" id="language-toggle-container">
                    <button class="btn" id="language-toggle-btn">
                        <span><i class="fas fa-globe"></i></span> <span id="current-lang">English</span>
                    </button>
                    <div class="language-options" id="language-options">
                        <div class="language-option" data-lang="zh">中文</div>
                        <div class="language-option" data-lang="en">English</div>
                    </div>
                </div>
                <!-- Help button removed per request -->
            </div>
        </header>
        
        <div class="main-content">
            <div class="sidebar">
                <h2><i class="fas fa-map"></i> <span id="chapters-title">Chapter Navigation</span></h2>
                <ul class="chapters" id="chapters-list">
                    <!-- Chapters will be dynamically generated by JavaScript -->
                </ul>
            </div>
            
            <div class="content-area">
                <div class="progress-bar">
                    <div class="progress" id="progress-bar"></div>
                </div>
                
                <div class="slide active" id="slide-welcome">
                    <h2><i class="fas fa-home"></i> <span id="welcome-title">Welcome to Forex Trading Training</span></h2>
                    <p id="welcome-text">This interactive training course will take you through the basics of forex trading, from currency pairs, leverage and margin to order types and profit/loss calculations.</p>
                    
                    <div class="image-container">
                        <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Forex Trading Chart" class="content-image">
                        <p class="image-caption">Forex trading involves analyzing charts and market movements</p>
                    </div>
                    
                    <div class="stats-container">
                        <div class="stat-item">
                            <div class="stat-value">7</div>
                            <div class="stat-label">Core Chapters</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">20+</div>
                            <div class="stat-label">Detailed Lessons</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">50+</div>
                            <div class="stat-label">Forex Terms</div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h4><i class="fas fa-bullseye"></i> <span id="course-objectives-title">Course Objectives</span></h4>
                        <ul id="course-objectives">
                            <li>Understand the basic concepts and terminology of the forex market</li>
                            <li>Master the concepts of currency pairs, pip values and pipettes</li>
                            <li>Learn how leverage and margin work</li>
                            <li>Learn how to calculate profit and loss</li>
                            <li>Familiarize yourself with different types of orders and their application scenarios</li>
                        </ul>
                    </div>
                    
                    <div class="interactive-element" id="start-learning-btn">
                        <h4><i class="fas fa-play-circle"></i> <span id="start-learning-title">Start Learning</span></h4>
                        <p id="start-learning-text">Click here to start your learning journey</p>
                    </div>
                </div>
                
                <!-- Other slides will be dynamically generated by JavaScript -->
                
                <div class="slide-navigation">
                    <button class="btn" id="prev-btn">
                        <span><i class="fas fa-arrow-left"></i></span> <span id="prev-text">Previous</span>
                    </button>
                    <button class="btn btn-primary" id="next-btn">
                        <span id="next-text">Next</span> <span><i class="fas fa-arrow-right"></i></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Content in both Chinese and English
        const content = {
            zh: {
                mainTitle: "外汇交易培训",
                chaptersTitle: "章节导航",
                welcomeTitle: "欢迎来到外汇交易培训",
                welcomeText: "本交互式培训课程将带您全面了解外汇交易的基础知识，从货币对、杠杆和保证金到订单类型和盈亏计算。",
                courseObjectivesTitle: "课程目标",
                courseObjectives: [
                    "理解外汇市场的基本概念和术语",
                    "掌握货币对、点值和点子的概念",
                    "了解杠杆和保证金的工作原理",
                    "学习如何计算盈亏",
                    "熟悉不同类型的订单及其应用场景"
                ],
                startLearningTitle: "开始学习",
                startLearningText: "点击这里开始您的学习之旅",
                // helpText removed
                prevBtn: "上一页",
                nextBtn: "下一页",
                chapters: [
                    {
                        title: "第1章：外汇市场的核心要素",
                        id: "chapter1",
                        icon: "fas fa-coins",
                        slides: [
                            {
                                title: "1.1 货币对",
                                content: `
                                    <p>货币对由"基础货币"和"报价货币"组成，表示基础货币与报价货币的兑换比率。</p>
                                    
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Currency Exchange" class="content-image">
                                        <p class="image-caption">外汇交易涉及不同货币之间的兑换</p>
                                    </div>
                                    
                                    <div class="currency-pair-visual">
                                        <div class="currency-box">EUR</div>
                                        <div class="vs">/</div>
                                        <div class="currency-box">USD</div>
                                    </div>
                                    <div class="exchange-rate">1.0800</div>
                                    <p>货币对主要分为四种类型：</p>
                                    <div class="card">
                                        <h4><i class="fas fa-star"></i> 主要货币对</h4>
                                        <p>涉及美元的高流动性货币对，占市场交易量的80%以上，如EUR/USD、USD/JPY、GBP/USD等。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-chart-line"></i> 次要货币对</h4>
                                        <p>涉及美元但流动性较低的货币对，如EUR/GBP、GBP/JPY、AUD/JPY等。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-exclamation-triangle"></i> 奇异货币对</h4>
                                        <p>涉及新兴市场货币的货币对，流动性低且点差大，如USD/TRY、EUR/PLN等。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-project-diagram"></i> 交叉汇率</h4>
                                        <p>不包含美元的货币对，其汇率需要通过美元间接计算，如EUR/JPY、GBP/CHF等。</p>
                                    </div>
                                `
                            },
                            {
                                title: "1.2 汇率",
                                content: `
                                    <p>汇率表示一种货币与另一种货币的兑换比率。</p>
                                    
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Exchange Rate Chart" class="content-image">
                                        <p class="image-caption">汇率图表显示货币价值的变化</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-shopping-cart"></i> 买入价/卖出价</h4>
                                        <p><strong>买入价：</strong>经纪商愿意买入基础货币的价格（投资者卖出基础货币的价格）</p>
                                        <p><strong>卖出价：</strong>经纪商愿意卖出基础货币的价格（投资者买入基础货币的价格）</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> EUR/USD报价为1.0800（买入价）- 1.0802（卖出价），意味着投资者可以以1.0800卖出EUR，以1.0802买入EUR。</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrows-alt-h"></i> 点差</h4>
                                        <p>卖出价与买入价之间的差额，是经纪商的主要收入来源。分为固定点差（不受市场波动影响）和浮动点差（随流动性变化，例如在非农数据发布期间扩大）。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-chart-area"></i> 浮动汇率与固定汇率</h4>
                                        <p><strong>浮动汇率：</strong>由市场供求决定，如EUR/USD和USD/JPY，受经济数据和利率政策影响。</p>
                                        <p><strong>固定汇率：</strong>由中央银行设定和维护，如港元（USD/HKD固定在7.75-7.85之间）。中央银行通过买卖外汇来调整汇率。</p>
                                    </div>
                                `
                            },
                            {
                                title: "1.3 点与点子",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Pip and Pipette" class="content-image">
                                        <p class="image-caption">理解点和点子对于计算交易利润至关重要</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-info-circle"></i> 定义</h4>
                                        <p><strong>点：</strong>汇率变动的最小单位。对于非日元货币对（如EUR/USD），为0.0001；对于日元货币对（如USD/JPY），为0.01。</p>
                                        <p><strong>点子：</strong>1/10个点。对于非日元货币对，为0.00001；对于日元货币对，为0.001。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-calculator"></i> 计算公式</h4>
                                        <p>点的变动 = |收盘价 - 开盘价| / 单个点的单位</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-chart-bar"></i> 示例</h4>
                                        <div class="calculation-example">
                                            <p><strong>EUR/USD：</strong> 开盘1.0800，收盘1.0805。点的变动 = (1.0805-1.0800)/0.0001 = 5点</p>
                                        </div>
                                        <div class="calculation-example">
                                            <p><strong>USD/JPY：</strong> 开盘145.00，收盘145.20。点的变动 = (145.20-145.00)/0.01 = 20点</p>
                                        </div>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "第2章：杠杆和保证金",
                        id: "chapter2",
                        icon: "fas fa-balance-scale",
                        slides: [
                            {
                                title: "2.1 杠杆机制",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80" alt="Leverage Concept" class="content-image">
                                        <p class="image-caption">杠杆允许交易者用少量资金控制大额头寸</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-info-circle"></i> 定义</h4>
                                        <p>杠杆是经纪商提供的"资本放大工具"，允许投资者用少量保证金控制大额头寸。</p>
                                        <p><strong>公式：</strong> 头寸规模 = 保证金 × 杠杆比率</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> 使用1:100杠杆，1,000保证金可以控制100,000头寸（1标准手）。</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-calculator"></i> 保证金要求公式</h4>
                                        <p>所需保证金 = 头寸规模 / 杠杆比率</p>
                                        <div class="calculation-example">
                                            <p><strong>注意：</strong> 如果货币对与账户货币不同，需要通过汇率进行转换。例如，使用美元账户交易EUR/USD，保证金 = (100,000 EUR × 开盘价) / 杠杆</p>
                                        </div>
                                    </div>
                                `
                            },
                            {
                                title: "2.2 追加保证金与强制平仓",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Risk Management" class="content-image">
                                        <p class="image-caption">风险管理是成功交易的关键</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-chart-line"></i> 核心指标</h4>
                                        <p>保证金水平 = (账户净值 / 已用保证金) × 100%</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-list-ol"></i> 过程</h4>
                                        <ol>
                                            <li>投资者开立交易头寸</li>
                                            <li>不利的市场波动导致账户净值下降</li>
                                            <li>保证金水平降至"追加保证金阈值"（通常为50%）</li>
                                            <li>经纪商发送追加保证金通知（要求追加保证金或减少头寸）</li>
                                            <li>如果未追加保证金，净值继续下降</li>
                                            <li>保证金水平降至"强制平仓阈值"（通常为15%）</li>
                                            <li>经纪商执行强制平仓（释放保证金以避免负余额）</li>
                                        </ol>
                                    </div>
                                `
                            },
                            {
                                title: "2.3 风险影响",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1563986768609-322da13575f3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Risk and Reward" class="content-image">
                                        <p class="image-caption">理解风险与回报的关系对于长期成功至关重要</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-expand-arrows-alt"></i> 杠杆放大盈亏</h4>
                                        <p>使用1:100杠杆，1%的不利汇率波动可能耗尽保证金。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-exclamation-circle"></i> 潜在风险</h4>
                                        <p>在市场缺口情况下（例如重大数据发布），止损单可能无法按预期价格执行，导致过度损失。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-lightbulb"></i> 风险控制建议</h4>
                                        <p>新手应避免高杠杆（例如1:500），优先选择1:50-1:100杠杆，同时设置止损单。</p>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "第3章：买入和卖出",
                        id: "chapter3",
                        icon: "fas fa-exchange-alt",
                        slides: [
                            {
                                title: "3.1 多头与空头头寸",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1642790106117-e829e14a795f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Long and Short Positions" class="content-image">
                                        <p class="image-caption">多头和空头头寸是外汇交易的基本概念</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-up"></i> 多头头寸（看涨）</h4>
                                        <p>预期基础货币升值，先"买入"基础货币，然后在价格上涨时"卖出"平仓。</p>
                                        <p><strong>利润 = (收盘价 - 开盘价) × 头寸规模</strong></p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> EUR/USD当前为1.0800。预期EUR上涨，买入1标准手EUR/USD（多头头寸）。如果在1.0850平仓，利润为$500。</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-down"></i> 空头头寸（看跌）</h4>
                                        <p>预期基础货币贬值，先"卖出"基础货币（从经纪商借入），然后在价格下跌时"买入"偿还。</p>
                                        <p><strong>利润 = (开盘价 - 收盘价) × 头寸规模</strong></p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> USD/JPY当前为145.00。预期USD下跌，卖出0.5迷你手USD/JPY（空头头寸）。如果在144.00平仓，利润为5,000 JPY（转换为USD）。</p>
                                        </div>
                                    </div>
                                `
                            },
                            {
                                title: "3.2 市场情景与客户误解",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1613243555978-636c48dc653c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Market Scenarios" class="content-image">
                                        <p class="image-caption">理解市场情景有助于制定更好的交易策略</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-chart-line"></i> 典型市场情景</h4>
                                        <ul>
                                            <li><strong>美联储加息：</strong> USD升值，适合做空EUR/USD和GBP/USD</li>
                                            <li><strong>欧元区GDP超预期：</strong> EUR升值，适合做多EUR/USD和EUR/JPY</li>
                                        </ul>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-exclamation-triangle"></i> 常见客户误解</h4>
                                        <ul>
                                            <li><strong>"空头头寸只能在价格下跌时获利而不能赚钱"：</strong> 空头头寸本质上是"先卖后买"，只要价格下跌就可以获利</li>
                                            <li><strong>"持有多头头寸时间越长等于利润越多"：</strong> 忽略隔夜掉期费用（可能侵蚀利润）和不利市场波动的风险</li>
                                            <li><strong>"止损等于无风险交易"：</strong> 止损无法避免滑点风险（例如缺口期间的止损失败）</li>
                                        </ul>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "第4章：订单类型",
                        id: "chapter4",
                        icon: "fas fa-tasks",
                        slides: [
                            {
                                title: "4.1 基本订单类型",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Order Types" class="content-image">
                                        <p class="image-caption">了解不同类型的订单对于有效交易至关重要</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-bolt"></i> 市价单</h4>
                                        <p><strong>定义：</strong> 以最佳可用市场价格立即执行，无价格限制</p>
                                        <p><strong>适用场景：</strong> 紧急入场（例如突破关键阻力位）</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-bullseye"></i> 限价单</h4>
                                        <p><strong>定义：</strong> 在"指定价格或更好价格"执行（多头：指定价格 < 当前价格；空头：指定价格 > 当前价格）</p>
                                        <p><strong>适用场景：</strong> 预期价格回调后的入场</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-flag"></i> 止损单</h4>
                                        <p><strong>定义：</strong> 当价格达到"指定止损价格"时自动转换为市价单</p>
                                        <p><strong>适用场景：</strong> 追涨杀跌（例如突破后买入）</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-shield-alt"></i> 止损</h4>
                                        <p><strong>定义：</strong> 预设最大损失价格，触发头寸平仓（多头：止损 < 开盘价；空头：止损 > 开盘价）</p>
                                        <p><strong>适用场景：</strong> 风险控制</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-trophy"></i> 止盈</h4>
                                        <p><strong>定义：</strong> 预设利润目标价格，触发头寸平仓（多头：止盈 > 开盘价；空头：止盈 < 开盘价）</p>
                                        <p><strong>适用场景：</strong> 利润锁定</p>
                                    </div>
                                `
                            },
                            {
                                title: "4.2 挂单逻辑",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80" alt="Pending Orders" class="content-image">
                                        <p class="image-caption">挂单允许交易者在特定条件下自动执行交易</p>
                                    </div>
                                    
                                    <p>挂单是"在价格达到预设水平之前不执行，然后自动触发"的订单。有四种类型：</p>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-up"></i> 买入限价</h4>
                                        <p><strong>逻辑：</strong> 当价格下跌到预设价格A（A < 当前价格）时触发买入订单</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> 当前价格为1.0800。买入限价设置在1.0780（低于当前价格），标记为"当价格 ≤ 1.0780时触发买入"</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-down"></i> 卖出限价</h4>
                                        <p><strong>逻辑：</strong> 当价格上涨到预设价格B（B > 当前价格）时触发卖出订单</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> 当前价格为1.0800。卖出限价设置在1.0820（高于当前价格），标记为"当价格 ≥ 1.0820时触发卖出"</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-up"></i> 买入止损</h4>
                                        <p><strong>逻辑：</strong> 当价格上涨到预设价格C（C > 当前价格）时触发买入订单（追涨）</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> 当前价格为1.0800。买入止损设置在1.0820（高于当前价格），标记为"当价格 ≥ 1.0820时触发买入"</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-down"></i> 卖出止损</h4>
                                        <p><strong>逻辑：</strong> 当价格下跌到预设价格D（D < 当前价格）时触发卖出订单（追跌）</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> 当前价格为1.0800。卖出止损设置在1.0780（低于当前价格），标记为"当价格 ≤ 1.0780时触发卖出"</p>
                                        </div>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "第5章：盈亏计算",
                        id: "chapter5",
                        icon: "fas fa-calculator",
                        slides: [
                            {
                                title: "5.1 详细公式",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1311&q=80" alt="Profit and Loss Calculation" class="content-image">
                                        <p class="image-caption">准确计算盈亏是成功交易的基础</p>
                                    </div>
                                    
                                    <p>盈亏公式根据货币对类型分为两类：</p>
                                    <div class="card">
                                        <h4><i class="fas fa-dollar-sign"></i> 直接货币对（基础货币 ≠ USD，报价货币 = USD，例如EUR/USD）</h4>
                                        <p>盈亏（USD）= (收盘价 - 开盘价) × 手数 × 合约规模（1标准手 = 100,000基础货币）</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-yen-sign"></i> 间接货币对（基础货币 = USD，报价货币 ≠ USD，例如USD/JPY）</h4>
                                        <p>盈亏（USD）= (收盘价 - 开盘价) × 手数 × 合约规模（1标准手 = 100,000 USD） / 收盘价（将报价货币转换为USD）</p>
                                    </div>
                                `
                            },
                            {
                                title: "5.2 多个示例",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Calculation Examples" class="content-image">
                                        <p class="image-caption">通过实际示例理解盈亏计算</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-euro-sign"></i> 示例1：1标准手EUR/USD（直接货币对）</h4>
                                        <p>开盘价：1.0800（多头），收盘价：1.0850，手数 = 1，合约规模 = 100,000 EUR</p>
                                        <p>盈亏 = (1.0850-1.0800)×1×100,000 = $500（利润）</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-yen-sign"></i> 示例2：0.5迷你手USD/JPY（间接货币对）</h4>
                                        <p>开盘价：145.00（空头），收盘价：144.00，手数 = 0.5，合约规模 = 10,000 USD</p>
                                        <p>盈亏 = (145.00-144.00)×0.5×10,000 / 144.00 ≈ $34.72（利润）</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-pound-sign"></i> 示例3：0.1微型手GBP/USD（直接货币对）</h4>
                                        <p>开盘价：1.2600（多头），收盘价：1.2580，手数 = 0.1，合约规模 = 1,000 GBP</p>
                                        <p>盈亏 = (1.2580-1.2600)×0.1×1,000 = -$2（损失）</p>
                                    </div>
                                `
                            },
                            {
                                title: "5.3 浮动盈亏与已实现盈亏",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Floating vs Realized P/L" class="content-image">
                                        <p class="image-caption">理解浮动盈亏与已实现盈亏的区别</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-chart-line"></i> 浮动盈亏</h4>
                                        <p>未平仓头寸的实时盈亏，随市场价格波动。计算公式同上，但"当前市场价格"替代"收盘价"。</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> 多头EUR/USD开盘价为1.0800，当前价格为1.0830。浮动利润为$300（未平仓）。</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-check-circle"></i> 已实现盈亏</h4>
                                        <p>头寸平仓后确定的盈亏，金额固定，不随市场波动。</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> 上述多头头寸平仓后，$300成为已实现利润并添加到账户净值。</p>
                                        </div>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "第6章：掉期",
                        id: "chapter6",
                        icon: "fas fa-money-bill-wave",
                        slides: [
                            {
                                title: "6.1 利率差异",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1311&q=80" alt="Interest Rate Differential" class="content-image">
                                        <p class="image-caption">利率差异是掉期计算的基础</p>
                                    </div>
                                    
                                    <p>掉期指"持有头寸过夜产生的利息费用/收入"，主要来源于货币对中两种货币的"基准利率差异"（由中央银行设定，例如美联储利率和欧洲央行利率）：</p>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-up"></i> 多头头寸（持有基础货币，借入报价货币）</h4>
                                        <p>掉期收入/费用 = (基础货币利率 - 报价货币利率) × 头寸规模 / 360（或365，根据经纪商规则）</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-down"></i> 空头头寸（持有报价货币，借入基础货币）</h4>
                                        <p>掉期收入/费用 = (报价货币利率 - 基础货币利率) × 头寸规模 / 360</p>
                                    </div>
                                `
                            },
                            {
                                title: "6.2 正负掉期",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80" alt="Positive and Negative Swap" class="content-image">
                                        <p class="image-caption">正负掉期影响交易者的持仓成本</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-plus-circle"></i> 正掉期（收入）</h4>
                                        <p>当持有货币的利率高于借入货币的利率时，经纪商向投资者支付利息。</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> USD利率为5.25%，JPY利率为0.1%。做空USD/JPY（持有JPY，借入USD）产生正掉期（JPY利率 > USD利率）。</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-minus-circle"></i> 负掉期（费用）</h4>
                                        <p>当持有货币的利率低于借入货币的利率时，投资者向经纪商支付利息。</p>
                                        <div class="calculation-example">
                                            <p><strong>示例：</strong> EUR利率为4.5%，USD利率为5.25%。做多EUR/USD（持有EUR，借入USD）产生负掉期（EUR利率 < USD利率）。</p>
                                        </div>
                                    </div>
                                `
                            },
                            {
                                title: "6.3 计算示例",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Swap Calculation Example" class="content-image">
                                        <p class="image-caption">通过实际计算理解掉期费用</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-calculator"></i> 交易工具：1标准手EUR/USD（多头），账户货币：USD</h4>
                                        <p><strong>利率：</strong> EUR利率4.5%，USD利率5.25%</p>
                                        <p><strong>计算：</strong></p>
                                        <p>掉期费用 = (4.5% - 5.25%) × 100,000 EUR × 1 / 360 × 开盘价(1.0800)</p>
                                        <p>= (-0.75%) × 100,000 × 1/360 × 1.0800 ≈ -2.25（投资者需要支付2.25掉期费用用于隔夜头寸持有）</p>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "第7章：市场机制",
                        id: "chapter7",
                        icon: "fas fa-cogs",
                        slides: [
                            {
                                title: "7.1 流动性来源",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Liquidity Sources" class="content-image">
                                        <p class="image-caption">了解流动性来源有助于理解市场运作</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-university"></i> 银行</h4>
                                        <p>主要投资银行（摩根大通、高盛、汇丰）是核心流动性提供者，提供大额报价。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-network-wired"></i> 流动性提供者（LPs）</h4>
                                        <p>专业金融机构（例如Currenex、Hotspot）汇总银行报价并向经纪商提供流动性。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-project-diagram"></i> 电子通信网络（ECNs）</h4>
                                        <p>连接银行、LPs、机构投资者和零售交易者，以高透明度匿名匹配订单（例如ECN账户）。</p>
                                    </div>
                                `
                            },
                            {
                                title: "7.2 滑点原因与向客户解释",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Slippage" class="content-image">
                                        <p class="image-caption">滑点是外汇交易中的常见现象</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-info-circle"></i> 滑点定义</h4>
                                        <p>订单执行价格与预期价格之间的偏差（多头滑点：执行价格 > 预期价格；空头滑点：执行价格 < 预期价格）。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-exclamation-triangle"></i> 主要原因</h4>
                                        <ul>
                                            <li><strong>流动性不足：</strong> 低交易量时段（例如清晨）或重大数据发布（非农数据、美联储决议）导致买卖价差扩大</li>
                                            <li><strong>高波动性：</strong> 价格缺口（例如突然的政策变化）阻止订单按预设价格执行</li>
                                            <li><strong>订单过大：</strong> 超过当前市场深度（例如10手订单，市场只能吸收5手）</li>
                                        </ul>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-comments"></i> 向客户解释</h4>
                                        <p>"滑点是一种正常的市场现象，尤其是在高波动性期间。我们努力提供最佳可执行价格。我们建议在重大数据发布前平仓或设置合理的止损（避免设置过紧）以减少滑点的影响。"</p>
                                    </div>
                                `
                            },
                            {
                                title: "7.3 执行模式",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80" alt="Execution Models" class="content-image">
                                        <p class="image-caption">不同执行模式适合不同的交易需求</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-bolt"></i> 市价执行</h4>
                                        <p><strong>逻辑：</strong> 投资者提交订单后，立即以最佳可用市场价格执行，无需确认。</p>
                                        <p><strong>特点：</strong> 执行速度快但可能有滑点（尤其是在高波动性期间）。</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-clock"></i> 即时执行</h4>
                                        <p><strong>逻辑：</strong> 投资者提交"期望价格"，经纪商在确认价格有效性后执行；如果价格变化超过阈值（例如2点），需要投资者重新确认。</p>
                                        <p><strong>特点：</strong> 滑点风险低但执行速度慢（等待确认）。</p>
                                    </div>
                                `
                            }
                        ]
                    },
                    // Extras chapter removed per request
                ]
            },
            en: {
                mainTitle: "Forex Trading Training",
                chaptersTitle: "Chapter Navigation",
                welcomeTitle: "Welcome to Forex Trading Training",
                welcomeText: "This interactive training course will take you through the basics of forex trading, from currency pairs, leverage and margin to order types and profit/loss calculations.",
                courseObjectivesTitle: "Course Objectives",
                courseObjectives: [
                    "Understand the basic concepts and terminology of the forex market",
                    "Master the concepts of currency pairs, pip values and pipettes",
                    "Learn how leverage and margin work",
                    "Learn how to calculate profit and loss",
                    "Familiarize yourself with different types of orders and their application scenarios"
                ],
                startLearningTitle: "Start Learning",
                startLearningText: "Click here to start your learning journey",
                // helpText removed
                prevBtn: "Previous",
                nextBtn: "Next",
                chapters: [
                    {
                        title: "Chapter 1: Core Elements of the Forex Market",
                        id: "chapter1",
                        icon: "fas fa-coins",
                        slides: [
                            {
                                title: "1.1 Currency Pairs",
                                content: `
                                    <p>A currency pair consists of a "Base Currency" and a "Quote Currency", representing the exchange ratio of the base currency to the quote currency.</p>
                                    
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Currency Exchange" class="content-image">
                                        <p class="image-caption">Forex trading involves exchanging different currencies</p>
                                    </div>
                                    
                                    <div class="currency-pair-visual">
                                        <div class="currency-box">EUR</div>
                                        <div class="vs">/</div>
                                        <div class="currency-box">USD</div>
                                    </div>
                                    <div class="exchange-rate">1.0800</div>
                                    <p>Currency pairs are mainly categorized into four types:</p>
                                    <div class="card">
                                        <h4><i class="fas fa-star"></i> Major Currency Pairs</h4>
                                        <p>High-liquidity pairs involving the US Dollar, accounting for over 80% of market trading volume, such as EUR/USD, USD/JPY, GBP/USD, etc.</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-chart-line"></i> Minor Currency Pairs</h4>
                                        <p>Pairs involving USD but with lower liquidity than major pairs, such as EUR/GBP, GBP/JPY, AUD/JPY, etc.</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-exclamation-triangle"></i> Exotic Currency Pairs</h4>
                                        <p>Pairs involving emerging market currencies, characterized by low liquidity and wide spreads, such as USD/TRY, EUR/PLN, etc.</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-project-diagram"></i> Cross Rates</h4>
                                        <p>Currency pairs that do not include USD, whose exchange rates need to be calculated indirectly through USD, such as EUR/JPY, GBP/CHF, etc.</p>
                                    </div>
                                `
                            },
                            {
                                title: "1.2 Exchange Rates",
                                content: `
                                    <p>Exchange rates represent the conversion ratio between one currency and another.</p>
                                    
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Exchange Rate Chart" class="content-image">
                                        <p class="image-caption">Exchange rate charts show changes in currency values</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-shopping-cart"></i> Bid/Ask Price</h4>
                                        <p><strong>Bid Price:</strong> The price at which a broker is willing to buy the base currency (the price at which investors sell the base currency)</p>
                                        <p><strong>Ask Price:</strong> The price at which a broker is willing to sell the base currency (the price at which investors buy the base currency)</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> EUR/USD quoted at 1.0800 (Bid) - 1.0802 (Ask) means investors can sell EUR at 1.0800 and buy EUR at 1.0802.</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrows-alt-h"></i> Spread</h4>
                                        <p>The difference between the Ask price and the Bid price, which is the main source of brokers' revenue. It is divided into fixed spreads (not affected by market fluctuations) and floating spreads (varying with liquidity, e.g., widening during Nonfarm Payrolls releases).</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-chart-area"></i> Floating vs Fixed Exchange Rates</h4>
                                        <p><strong>Floating Exchange Rates:</strong> Determined by market supply and demand, such as EUR/USD and USD/JPY, influenced by economic data and interest rate policies.</p>
                                        <p><strong>Fixed Exchange Rates:</strong> Set and maintained by central banks, such as the Hong Kong Dollar (USD/HKD fixed within 7.75-7.85). Central banks adjust exchange rates by buying and selling foreign exchange.</p>
                                    </div>
                                `
                            },
                            {
                                title: "1.3 Pip & Pipette",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Pip and Pipette" class="content-image">
                                        <p class="image-caption">Understanding pips and pipettes is crucial for calculating trading profits</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-info-circle"></i> Definition</h4>
                                        <p><strong>Pip:</strong> The smallest unit of exchange rate movement. For non-JPY pairs (e.g., EUR/USD), it is 0.0001; for JPY pairs (e.g., USD/JPY), it is 0.01.</p>
                                        <p><strong>Pipette:</strong> 1/10 of a Pip. For non-JPY pairs, it is 0.00001; for JPY pairs, it is 0.001.</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-calculator"></i> Calculation Formula</h4>
                                        <p>Pip Movement = |Closing Price - Opening Price| / Single Pip Unit</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-chart-bar"></i> Examples</h4>
                                        <div class="calculation-example">
                                            <p><strong>EUR/USD:</strong> Opening at 1.0800, closing at 1.0805. Pip movement = (1.0805-1.0800)/0.0001 = 5 Pips</p>
                                        </div>
                                        <div class="calculation-example">
                                            <p><strong>USD/JPY:</strong> Opening at 145.00, closing at 145.20. Pip movement = (145.20-145.00)/0.01 = 20 Pips</p>
                                        </div>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "Chapter 2: Leverage and Margin",
                        id: "chapter2",
                        icon: "fas fa-balance-scale",
                        slides: [
                            {
                                title: "2.1 Leverage Mechanics",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80" alt="Leverage Concept" class="content-image">
                                        <p class="image-caption">Leverage allows traders to control large positions with small amounts of capital</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-info-circle"></i> Definition</h4>
                                        <p>Leverage is a "capital amplification tool" provided by brokers, allowing investors to control large positions with a small amount of margin.</p>
                                        <p><strong>Formula:</strong> Position Size = Margin × Leverage Ratio</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> With 1:100 leverage, a 1,000 margin can control a 100,000 position (1 standard lot).</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-calculator"></i> Margin Requirement Formula</h4>
                                        <p>Required Margin = Position Size / Leverage Ratio</p>
                                        <div class="calculation-example">
                                            <p><strong>Note:</strong> If the currency pair differs from the account currency, conversion via exchange rate is required. For example, with a USD account trading EUR/USD, Margin = (100,000 EUR × Opening Price) / Leverage</p>
                                        </div>
                                    </div>
                                `
                            },
                            {
                                title: "2.2 Margin Call & Stop-Out Process",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Risk Management" class="content-image">
                                        <p class="image-caption">Risk management is key to successful trading</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-chart-line"></i> Core Indicator</h4>
                                        <p>Margin Level = (Account Equity / Used Margin) × 100%</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-list-ol"></i> Process</h4>
                                        <ol>
                                            <li>Investor opens a trading position</li>
                                            <li>Adverse market fluctuations cause account equity to decline</li>
                                            <li>Margin level drops to "Margin Call threshold" (usually 50%)</li>
                                            <li>Broker sends a margin call notice (requiring additional margin or position reduction)</li>
                                            <li>If no margin is added, equity continues to fall</li>
                                            <li>Margin level drops to "Stop-Out threshold" (usually 15%)</li>
                                            <li>Broker executes forced liquidation (releases margin to avoid negative balance)</li>
                                        </ol>
                                    </div>
                                `
                            },
                            {
                                title: "2.3 Risk Implications",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1563986768609-322da13575f3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Risk and Reward" class="content-image">
                                        <p class="image-caption">Understanding the relationship between risk and reward is crucial for long-term success</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-expand-arrows-alt"></i> Leverage amplifies both profits and losses</h4>
                                        <p>With 1:100 leverage, a 1% adverse exchange rate fluctuation can deplete the margin.</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-exclamation-circle"></i> Potential Risks</h4>
                                        <p>In case of market gaps (e.g., major data releases), stop-loss orders may not execute at the expected price, leading to excessive losses.</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-lightbulb"></i> Risk Control Recommendations</h4>
                                        <p>Novices should avoid high leverage (e.g., 1:500) and prioritize 1:50-1:100 leverage, while setting stop-loss orders.</p>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "Chapter 3: Buy and Sell",
                        id: "chapter3",
                        icon: "fas fa-exchange-alt",
                        slides: [
                            {
                                title: "3.1 Long vs Short Positions",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1642790106117-e829e14a795f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Long and Short Positions" class="content-image">
                                        <p class="image-caption">Long and short positions are fundamental concepts in forex trading</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-up"></i> Long Position (Bullish)</h4>
                                        <p>Expecting the base currency to appreciate, first "buy" the base currency and then "sell" to close the position when the price rises.</p>
                                        <p><strong>Profit = (Closing Price - Opening Price) × Position Size</strong></p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> EUR/USD is currently at 1.0800. Expecting EUR to rise, buy 1 standard lot of EUR/USD (long position). If closed at 1.0850, profit is $500.</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-down"></i> Short Position (Bearish)</h4>
                                        <p>Expecting the base currency to depreciate, first "sell" the base currency (borrowed from the broker) and then "buy" to repay when the price falls.</p>
                                        <p><strong>Profit = (Opening Price - Closing Price) × Position Size</strong></p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> USD/JPY is currently at 145.00. Expecting USD to fall, sell 0.5 mini lot of USD/JPY (short position). If closed at 144.00, profit is 5,000 JPY (converted to USD).</p>
                                        </div>
                                    </div>
                                `
                            },
                            {
                                title: "3.2 Market Scenarios and Client Misconceptions",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1613243555978-636c48dc653c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Market Scenarios" class="content-image">
                                        <p class="image-caption">Understanding market scenarios helps in developing better trading strategies</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-chart-line"></i> Typical Market Scenarios</h4>
                                        <ul>
                                            <li><strong>Fed Interest Rate Hike:</strong> USD appreciates, suitable for shorting EUR/USD and GBP/USD</li>
                                            <li><strong>Eurozone GDP Exceeding Expectations:</strong> EUR appreciates, suitable for going long EUR/USD and EUR/JPY</li>
                                        </ul>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-exclamation-triangle"></i> Common Client Misconceptions</h4>
                                        <ul>
                                            <li><strong>"Short positions can only profit from falling prices but not make money":</strong> A short position essentially involves "selling first and buying later", and profits can be made as long as the price falls</li>
                                            <li><strong>"Longer holding of long positions equals more profits":</strong> Ignoring overnight swap fees (which may erode profits) and the risk of adverse market fluctuations</li>
                                            <li><strong>"Stop-loss equals risk-free trading":</strong> Stop-loss cannot avoid slippage risk (e.g., stop-loss failure during gaps)</li>
                                        </ul>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "Chapter 4: Order Types",
                        id: "chapter4",
                        icon: "fas fa-tasks",
                        slides: [
                            {
                                title: "4.1 Basic Order Types",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Order Types" class="content-image">
                                        <p class="image-caption">Understanding different order types is crucial for effective trading</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-bolt"></i> Market Order</h4>
                                        <p><strong>Definition:</strong> Executes immediately at the best available market price, no price restriction</p>
                                        <p><strong>Applicable Scenarios:</strong> Urgent entry (e.g., breaking key resistance levels)</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-bullseye"></i> Limit Order</h4>
                                        <p><strong>Definition:</strong> Executes at the "specified price or better" (Long: Specified price < Current price; Short: Specified price > Current price)</p>
                                        <p><strong>Applicable Scenarios:</strong> Entry after expected price retracement</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-flag"></i> Stop Order</h4>
                                        <p><strong>Definition:</strong> Converts to a market order automatically when the price hits the "specified stop price"</p>
                                        <p><strong>Applicable Scenarios:</strong> Chasing trends (e.g., buying after breakout)</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-shield-alt"></i> Stop-Loss (SL)</h4>
                                        <p><strong>Definition:</strong> Preset maximum loss price, triggers position closure (Long: SL < Opening price; Short: SL > Opening price)</p>
                                        <p><strong>Applicable Scenarios:</strong> Risk control</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-trophy"></i> Take-Profit (TP)</h4>
                                        <p><strong>Definition:</strong> Preset profit target price, triggers position closure (Long: TP > Opening price; Short: TP < Opening price)</p>
                                        <p><strong>Applicable Scenarios:</strong> Profit locking</p>
                                    </div>
                                `
                            },
                            {
                                title: "4.2 Pending Order Logic",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80" alt="Pending Orders" class="content-image">
                                        <p class="image-caption">Pending orders allow traders to automatically execute trades under specific conditions</p>
                                    </div>
                                    
                                    <p>Pending Orders are orders that "do not execute until the price reaches the preset level, then trigger automatically". There are four types:</p>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-up"></i> Buy Limit</h4>
                                        <p><strong>Logic:</strong> Triggers a buy order when the price falls to the preset price A (A < Current price)</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> Current price is 1.0800. Buy Limit is set at 1.0780 (below current price) with an upward arrow, labeled "Triggers buy when price ≤ 1.0780".</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-down"></i> Sell Limit</h4>
                                        <p><strong>Logic:</strong> Triggers a sell order when the price rises to the preset price B (B > Current price)</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> Current price is 1.0800. Sell Limit is set at 1.0820 (above current price) with a downward arrow, labeled "Triggers sell when price ≥ 1.0820".</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-up"></i> Buy Stop</h4>
                                        <p><strong>Logic:</strong> Triggers a buy order when the price rises to the preset price C (C > Current price) (trend chasing)</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> Current price is 1.0800. Buy Stop is set at 1.0820 (above current price) with an upward arrow, labeled "Triggers buy when price ≥ 1.0820".</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-down"></i> Sell Stop</h4>
                                        <p><strong>Logic:</strong> Triggers a sell order when the price falls to the preset price D (D < Current price) (chasing downward trends)</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> Current price is 1.0800. Sell Stop is set at 1.0780 (below current price) with a downward arrow, labeled "Triggers sell when price ≤ 1.0780".</p>
                                        </div>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "Chapter 5: Profit & Loss Calculation",
                        id: "chapter5",
                        icon: "fas fa-calculator",
                        slides: [
                            {
                                title: "5.1 Detailed Formula",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1311&q=80" alt="Profit and Loss Calculation" class="content-image">
                                        <p class="image-caption">Accurate profit and loss calculation is fundamental to successful trading</p>
                                    </div>
                                    
                                    <p>Profit/loss formulas are divided into two categories based on currency pair types:</p>
                                    <div class="card">
                                        <h4><i class="fas fa-dollar-sign"></i> Direct Currency Pairs (Base Currency ≠ USD, Quote Currency = USD, e.g., EUR/USD)</h4>
                                        <p>P&L (USD) = (Closing Price - Opening Price) × Lot Size × Contract Size (1 standard lot = 100,000 base currency)</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-yen-sign"></i> Indirect Currency Pairs (Base Currency = USD, Quote Currency ≠ USD, e.g., USD/JPY)</h4>
                                        <p>P&L (USD) = (Closing Price - Opening Price) × Lot Size × Contract Size (1 standard lot = 100,000 USD) / Closing Price (converts quote currency to USD)</p>
                                    </div>
                                `
                            },
                            {
                                title: "5.2 Multiple Examples",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Calculation Examples" class="content-image">
                                        <p class="image-caption">Understanding profit and loss calculation through practical examples</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-euro-sign"></i> Example 1: 1 Standard Lot EUR/USD (Direct Currency Pair)</h4>
                                        <p>Opening Price: 1.0800 (Long), Closing Price: 1.0850, Lot Size = 1, Contract Size = 100,000 EUR</p>
                                        <p>P&L = (1.0850-1.0800)×1×100,000 = $500 (Profit)</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-yen-sign"></i> Example 2: 0.5 Mini Lot USD/JPY (Indirect Currency Pair)</h4>
                                        <p>Opening Price: 145.00 (Short), Closing Price: 144.00, Lot Size = 0.5, Contract Size = 10,000 USD</p>
                                        <p>P&L = (145.00-144.00)×0.5×10,000 / 144.00 ≈ $34.72 (Profit)</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-pound-sign"></i> Example 3: 0.1 Micro Lot GBP/USD (Direct Currency Pair)</h4>
                                        <p>Opening Price: 1.2600 (Long), Closing Price: 1.2580, Lot Size = 0.1, Contract Size = 1,000 GBP</p>
                                        <p>P&L = (1.2580-1.2600)×0.1×1,000 = -$2 (Loss)</p>
                                    </div>
                                `
                            },
                            {
                                title: "5.3 Floating vs Realized P/L",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Floating vs Realized P/L" class="content-image">
                                        <p class="image-caption">Understanding the difference between floating and realized profit/loss</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-chart-line"></i> Floating P/L</h4>
                                        <p>Real-time profit/loss of open positions, fluctuating with market prices. The calculation formula is the same as above, but "current market price" replaces "closing price".</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> Long EUR/USD opened at 1.0800, current price is 1.0830. Floating profit is $300 (unclosed).</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-check-circle"></i> Realized P/L</h4>
                                        <p>Determined profit/loss after position closure, with a fixed amount that does not fluctuate with the market.</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> After closing the above long position, the $300 becomes realized profit and is added to account equity.</p>
                                        </div>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "Chapter 6: Swap",
                        id: "chapter6",
                        icon: "fas fa-money-bill-wave",
                        slides: [
                            {
                                title: "6.1 Interest Rate Differential",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1311&q=80" alt="Interest Rate Differential" class="content-image">
                                        <p class="image-caption">Interest rate differential is the basis for swap calculation</p>
                                    </div>
                                    
                                    <p>Swap refers to the "interest expense/revenue generated by holding positions overnight", which is mainly derived from the "benchmark interest rate differential" between the two currencies in the pair (set by central banks, such as the Fed rate and ECB rate):</p>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-up"></i> Long Position (Holding base currency, borrowing quote currency)</h4>
                                        <p>Swap Revenue/Expense = (Base Currency Rate - Quote Currency Rate) × Position Size / 360 (or 365, per broker's rules)</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-arrow-down"></i> Short Position (Holding quote currency, borrowing base currency)</h4>
                                        <p>Swap Revenue/Expense = (Quote Currency Rate - Base Currency Rate) × Position Size / 360</p>
                                    </div>
                                `
                            },
                            {
                                title: "6.2 Positive vs Negative Swap",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80" alt="Positive and Negative Swap" class="content-image">
                                        <p class="image-caption">Positive and negative swaps affect traders' holding costs</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-plus-circle"></i> Positive Swap (Revenue)</h4>
                                        <p>When the interest rate of the held currency is higher than that of the borrowed currency, the broker pays interest to the investor.</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> USD rate is 5.25%, JPY rate is 0.1%. Shorting USD/JPY (holding JPY, borrowing USD) results in positive swap (JPY rate > USD rate).</p>
                                        </div>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-minus-circle"></i> Negative Swap (Expense)</h4>
                                        <p>When the interest rate of the held currency is lower than that of the borrowed currency, the investor pays interest to the broker.</p>
                                        <div class="calculation-example">
                                            <p><strong>Example:</strong> EUR rate is 4.5%, USD rate is 5.25%. Going long EUR/USD (holding EUR, borrowing USD) results in negative swap (EUR rate < USD rate).</p>
                                        </div>
                                    </div>
                                `
                            },
                            {
                                title: "6.3 Calculation Example",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Swap Calculation Example" class="content-image">
                                        <p class="image-caption">Understanding swap fees through actual calculation</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-calculator"></i> Trading Instrument: 1 standard lot EUR/USD (Long), Account Currency: USD</h4>
                                        <p><strong>Interest Rates:</strong> EUR rate 4.5%, USD rate 5.25%</p>
                                        <p><strong>Calculation:</strong></p>
                                        <p>Swap Expense = (4.5% - 5.25%) × 100,000 EUR × 1 / 360 × Opening Price (1.0800)</p>
                                        <p>= (-0.75%) × 100,000 × 1/360 × 1.0800 ≈ -2.25 (The investor needs to pay 2.25 in swap fees for overnight position holding)</p>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        title: "Chapter 7: Market Mechanics",
                        id: "chapter7",
                        icon: "fas fa-cogs",
                        slides: [
                            {
                                title: "7.1 Liquidity Sources",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Liquidity Sources" class="content-image">
                                        <p class="image-caption">Understanding liquidity sources helps in understanding market operations</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-university"></i> Banks</h4>
                                        <p>Major investment banks (JPMorgan Chase, Goldman Sachs, HSBC) are core liquidity providers, offering large-volume quotes.</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-network-wired"></i> Liquidity Providers (LPs)</h4>
                                        <p>Professional financial institutions (e.g., Currenex, Hotspot) aggregate bank quotes and provide liquidity to brokers.</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-project-diagram"></i> Electronic Communication Networks (ECNs)</h4>
                                        <p>Connect banks, LPs, institutional investors, and retail traders, matching orders anonymously with high transparency (e.g., ECN accounts).</p>
                                    </div>
                                `
                            },
                            {
                                title: "7.2 Slippage Causes and Explanation to Clients",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Slippage" class="content-image">
                                        <p class="image-caption">Slippage is a common phenomenon in forex trading</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-info-circle"></i> Definition of Slippage</h4>
                                        <p>The deviation between the executed price of an order and the expected price (Slippage for Long: Executed price > Expected price; Slippage for Short: Executed price < Expected price).</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-exclamation-triangle"></i> Main Causes</h4>
                                        <ul>
                                            <li>Insufficient Liquidity: Low trading volume periods (e.g., early morning) or major data releases (Nonfarm Payrolls, Fed resolutions) leading to gaps between bid and ask prices</li>
                                            <li>High Volatility: Price gaps (e.g., sudden policy changes) preventing orders from executing at the preset price</li>
                                            <li>Oversized Orders: Exceeding current market depth (e.g., a 10-lot order with only 5 lots absorbable by the market)</li>
                                        </ul>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-comments"></i> Explanation to Clients</h4>
                                        <p>"Slippage is a normal market phenomenon, especially during high-volatility periods. We strive to provide the best executable prices. We recommend closing positions before major data releases or setting reasonable stop-losses (avoiding too tight levels) to reduce the impact of slippage."</p>
                                    </div>
                                `
                            },
                            {
                                title: "7.3 Execution Models",
                                content: `
                                    <div class="image-container">
                                        <img src="https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1171&q=80" alt="Execution Models" class="content-image">
                                        <p class="image-caption">Different execution models suit different trading needs</p>
                                    </div>
                                    
                                    <div class="card">
                                        <h4><i class="fas fa-bolt"></i> Market Execution</h4>
                                        <p><strong>Logic:</strong> After the investor submits an order, it executes immediately at the best available market price without confirmation.</p>
                                        <p><strong>Features:</strong> Fast execution speed but potential slippage (especially during high volatility).</p>
                                    </div>
                                    <div class="card">
                                        <h4><i class="fas fa-clock"></i> Instant Execution</h4>
                                        <p><strong>Logic:</strong> The investor submits a "desired price", and the broker executes after confirming price validity; if the price changes exceed the threshold (e.g., 2 Pips), reconfirmation from the investor is required.</p>
                                        <p><strong>Features:</strong> Low slippage risk but slow execution speed (waiting for confirmation).</p>
                                    </div>
                                `
                            }
                        ]
                    },
                    // Extras chapter removed per request
                ]
            }
        };

        // Current language
        let currentLang = 'en';
        
        // Current chapter and slide index
        let currentChapterIndex = -1; // -1 means welcome page
        let currentSlideIndex = 0;
        
        // Initialize function
        function init() {
            renderChapters();
            renderSlides();
            updateProgressBar();
            setupEventListeners();
        }
        
        // Render chapter navigation
        function renderChapters() {
            const chaptersList = document.getElementById('chapters-list');
            chaptersList.innerHTML = '';
            
            content[currentLang].chapters.forEach((chapter, index) => {
                const chapterItem = document.createElement('li');
                chapterItem.className = `chapter ${index === currentChapterIndex ? 'active' : ''}`;
                chapterItem.innerHTML = `
                    <button class="chapter-btn" data-chapter="${index}">
                        <i class="${chapter.icon}"></i> ${chapter.title}
                        <span>${index === currentChapterIndex ? '▼' : '▶'}</span>
                    </button>
                    <ul class="sub-chapters">
                        ${chapter.slides.map((slide, slideIndex) => `
                            <li class="sub-chapter">
                                <button class="sub-chapter-btn ${index === currentChapterIndex && slideIndex === currentSlideIndex ? 'active' : ''}" 
                                        data-chapter="${index}" data-slide="${slideIndex}">
                                    <i class="fas fa-file-alt"></i> ${slide.title}
                                </button>
                            </li>
                        `).join('')}
                    </ul>
                `;
                chaptersList.appendChild(chapterItem);
            });
        }
        
        // Render slide content
        function renderSlides() {
            const contentArea = document.querySelector('.content-area');
            
            // Clear existing slides (except welcome slide)
            const existingSlides = contentArea.querySelectorAll('.slide:not(#slide-welcome)');
            existingSlides.forEach(slide => slide.remove());
            
            // Render all slides for current chapter
            if (currentChapterIndex >= 0) {
                content[currentLang].chapters.forEach((chapter, chapterIndex) => {
                    chapter.slides.forEach((slide, slideIndex) => {
                        const slideElement = document.createElement('div');
                        slideElement.className = `slide ${chapterIndex === currentChapterIndex && slideIndex === currentSlideIndex ? 'active' : ''}`;
                        slideElement.id = `slide-${chapter.id}-${slideIndex}`;
                        slideElement.innerHTML = `
                            <h2><i class="fas fa-file-alt"></i> ${slide.title}</h2>
                            <div>${slide.content}</div>
                        `;
                        contentArea.insertBefore(slideElement, document.querySelector('.slide-navigation'));
                    });
                });
            }
            
            // Update welcome slide content
            document.getElementById('welcome-title').textContent = content[currentLang].welcomeTitle;
            document.getElementById('welcome-text').textContent = content[currentLang].welcomeText;
            document.getElementById('course-objectives-title').textContent = content[currentLang].courseObjectivesTitle;
            
            const courseObjectivesList = document.getElementById('course-objectives');
            courseObjectivesList.innerHTML = '';
            content[currentLang].courseObjectives.forEach(objective => {
                const li = document.createElement('li');
                li.textContent = objective;
                courseObjectivesList.appendChild(li);
            });
            
            document.getElementById('start-learning-title').textContent = content[currentLang].startLearningTitle;
            document.getElementById('start-learning-text').textContent = content[currentLang].startLearningText;
            document.getElementById('prev-text').textContent = content[currentLang].prevBtn;
            document.getElementById('next-text').textContent = content[currentLang].nextBtn;
            
            // Update main title and chapter title
            document.getElementById('main-title').textContent = content[currentLang].mainTitle;
            document.getElementById('chapters-title').textContent = content[currentLang].chaptersTitle;
            document.getElementById('current-lang').textContent = currentLang === 'zh' ? '中文' : 'English';
            
            // Show/hide welcome page
            const welcomeSlide = document.getElementById('slide-welcome');
            if (currentChapterIndex === -1) {
                welcomeSlide.classList.add('active');
            } else {
                welcomeSlide.classList.remove('active');
            }
        }
        
        // Update progress bar
        function updateProgressBar() {
            if (currentChapterIndex === -1) {
                document.getElementById('progress-bar').style.width = '0%';
                return;
            }
            
            const totalSlides = content[currentLang].chapters.reduce((total, chapter) => total + chapter.slides.length, 0);
            const currentSlideNumber = content[currentLang].chapters
                .slice(0, currentChapterIndex)
                .reduce((total, chapter) => total + chapter.slides.length, 0) + currentSlideIndex + 1;
            
            const progressPercentage = (currentSlideNumber / totalSlides) * 100;
            document.getElementById('progress-bar').style.width = `${progressPercentage}%`;
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Language toggle - fixed version
            const languageToggleBtn = document.getElementById('language-toggle-btn');
            const languageOptions = document.getElementById('language-options');
            
            languageToggleBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                languageOptions.style.display = languageOptions.style.display === 'block' ? 'none' : 'block';
            });
            
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', function(e) {
                    e.stopPropagation();
                    currentLang = this.getAttribute('data-lang');
                    languageOptions.style.display = 'none';
                    
                    // Re-render content
                    renderChapters();
                    renderSlides();
                    updateProgressBar();
                });
            });
            
            // Click elsewhere to close language options
            document.addEventListener('click', function() {
                languageOptions.style.display = 'none';
            });
            
            // Chapter navigation
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('chapter-btn')) {
                    const chapterIndex = parseInt(e.target.getAttribute('data-chapter'));
                    const chapterElement = e.target.closest('.chapter');
                    
                    // If clicking on an active chapter, collapse sub-chapters
                    if (chapterIndex === currentChapterIndex) {
                        chapterElement.classList.toggle('active');
                        return;
                    }
                    
                    // Remove active class from all chapters
                    document.querySelectorAll('.chapter').forEach(chapter => {
                        chapter.classList.remove('active');
                    });
                    
                    // Add active class to current chapter
                    chapterElement.classList.add('active');
                    
                    // Switch to the first slide of this chapter
                    currentChapterIndex = chapterIndex;
                    currentSlideIndex = 0;
                    
                    renderSlides();
                    updateProgressBar();
                }
                
                if (e.target.classList.contains('sub-chapter-btn')) {
                    const chapterIndex = parseInt(e.target.getAttribute('data-chapter'));
                    const slideIndex = parseInt(e.target.getAttribute('data-slide'));
                    
                    // Remove active class from all sub-chapter buttons
                    document.querySelectorAll('.sub-chapter-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // Add active class to current sub-chapter button
                    e.target.classList.add('active');
                    
                    currentChapterIndex = chapterIndex;
                    currentSlideIndex = slideIndex;
                    
                    renderSlides();
                    updateProgressBar();
                }
            });
            
            // Start learning button
            document.getElementById('start-learning-btn').addEventListener('click', function() {
                currentChapterIndex = 0;
                currentSlideIndex = 0;
                
                renderChapters();
                renderSlides();
                updateProgressBar();
            });
            
            // Previous/Next buttons
            document.getElementById('prev-btn').addEventListener('click', goToPreviousSlide);
            document.getElementById('next-btn').addEventListener('click', goToNextSlide);
            
            // Help button removed — no handler required
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft') {
                    goToPreviousSlide();
                } else if (e.key === 'ArrowRight') {
                    goToNextSlide();
                }
            });
        }
        
        // Go to previous slide
        function goToPreviousSlide() {
            if (currentChapterIndex === -1) return;
            
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
            } else if (currentChapterIndex > 0) {
                currentChapterIndex--;
                currentSlideIndex = content[currentLang].chapters[currentChapterIndex].slides.length - 1;
            }
            
            updateNavigationHighlight();
            renderSlides();
            updateProgressBar();
        }
        
        // Go to next slide
        function goToNextSlide() {
            if (currentChapterIndex === -1) {
                // Start from welcome page
                currentChapterIndex = 0;
                currentSlideIndex = 0;
            } else {
                const currentChapterSlides = content[currentLang].chapters[currentChapterIndex].slides;
                
                if (currentSlideIndex < currentChapterSlides.length - 1) {
                    currentSlideIndex++;
                } else if (currentChapterIndex < content[currentLang].chapters.length - 1) {
                    currentChapterIndex++;
                    currentSlideIndex = 0;
                } else {
                    // Already at the last page
                    return;
                }
            }
            
            updateNavigationHighlight();
            renderSlides();
            updateProgressBar();
        }
        
        // Update navigation highlight
        function updateNavigationHighlight() {
            // Remove active class from all chapters
            document.querySelectorAll('.chapter').forEach(chapter => {
                chapter.classList.remove('active');
            });
            
            // Remove active class from all sub-chapter buttons
            document.querySelectorAll('.sub-chapter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to current chapter
            const currentChapter = document.querySelector(`.chapter-btn[data-chapter="${currentChapterIndex}"]`);
            if (currentChapter) {
                currentChapter.closest('.chapter').classList.add('active');
                
                // Add active class to current sub-chapter button
                const currentSubChapter = document.querySelector(`.sub-chapter-btn[data-chapter="${currentChapterIndex}"][data-slide="${currentSlideIndex}"]`);
                if (currentSubChapter) {
                    currentSubChapter.classList.add('active');
                }
            }
        }
        
        // Initialize the application
        init();
    </script>
</body>
</html>